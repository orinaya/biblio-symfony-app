{{ form_start(form, {'attr': {'class': 'book-form'}}) }}

<div class="book-form-row">
	<div class="book-form-col">
		<div class="image-upload">
			<label for="{{ form.image.vars.id }}">
				<i class="icon-gallery-upload"></i>
				{{ add_update|default('Ajouter') }}
				l'image du livre
			</label>
			<p>Format JPEG, PNG jusqu'à 50MB.</p>
			<img class="image-preview" src="{{ src_img|default('#') }}" alt="Prévisualisation de l'image"/>
			{{ form_widget(form.image, {'attr': {'class': 'form-control-file', 'style': 'display:none;', 'onchange': 'previewImage(event)'}}) }}
			<button type="button" class="base-btn" onclick="document.getElementById('{{ form.image.vars.id }}').click()">Charger un fichier</button>
		</div>
	</div>
	<div class="book-form-col">
		<div class="form-group">
			{{ form_label(form.title) }}
			{{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
		</div>

		<div class="form-group">
			{{ form_label(form.authors) }}
			{{ form_widget(form.authors, {'attr': {'class': 'form-control'}}) }}
		</div>

		<div class="form-group">
			{{ form_label(form.desciption) }}
			{{ form_widget(form.desciption, {'attr': {'class': 'form-control'}}) }}
		</div>

		<div class="form-group">
			{{ form_label(form.publicationYear) }}
			{{ form_widget(form.publicationYear, {'attr': {'class': 'form-control'}}) }}
		</div>

		<div class="form-group">
			{{ form_label(form.isbn) }}
			{{ form_widget(form.isbn, {'attr': {'class': 'form-control'}}) }}
		</div>
	</div>
</div>

<div class="book-form-row">
	<div class="book-form-col">
		<div class="form-group">
			{{ form_label(form.categories) }}
			<div class="category-options">
				{{ form_widget(form.categories) }}
			</div>
		</div>
	</div>
	<div class="book-form-col">
		<div class="form-group">
			{{ form_label(form.tags) }}
			<div class="tag-options">
				{{ form_widget(form.tags) }}
			</div>
		</div>
	</div>
</div>

<div class="book-form-row">
	<div class="book-form-col">
		<div class="form-group">
			{{ form_label(form.languages) }}
			<div class="language-options">
				{{ form_widget(form.languages) }}
			</div>
		</div>
	</div>
</div>

<div class="button-group">
	<a href="{{ path('app_book_index') }}" class="back-btn">{{ first_button_label|default('Annuler') }}</a>
	<button type="submit" class="add-btn">{{ second_button_label|default('Publier') }}</button>
</div>

<script>
	function previewImage(event) {
const input = event.target;
const preview = document.querySelector('.image-preview');
if (input.files && input.files[0]) {
const reader = new FileReader();
reader.onload = function (e) {
preview.src = e.target.result;
preview.style.display = 'block';
};
reader.readAsDataURL(input.files[0]);
}
}
</script>

{{ form_end(form) }}
